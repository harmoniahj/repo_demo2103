<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo">
	<select id="getSiguList" parameterType="com.vo.ZipCodeVO" resultType="java.lang.String">
		select '전체' sigu from dual union all
		select sigu  FROM (select distinct(sigu) sigu from zipcode_t where zdo=#{zdo} ORDER BY sigu asc         	
	</select>
	
	<select id="getDongList" parameterType="com.vo.ZipCodeVO" resultType="java.lang.String">
		select '전체' dong from dual union all                        
		select dong FROM (select distinct(dong) dong from zipcode_t         
		         		  where sigu=#{sigu} ORDER BY dong asc)                            	
	</select>
	
	<select id="getZDOList" parameterType="java.util.Map" resultType="java.util.Map">
		select '전체' zdo FROM dual union all                        
		select zdo FROM (select distinct(zdo) zdo from zipcode_t         
		         		 ORDER BY zdo asc)                         	
	</select>
	
	<select id="refreshData" parameterType="com.vo.ZipCodeVO" resultType="map">
		select address, zipcode FROM zipcode_t  WHERE 1=1
		<if test="zdo !=null and zdo.length()>0">
			and zdo = #{zdo}
		</if>	 
		<if test="dong !=null and dong.length()>0">
			and dong LIKE '%'||#{dong}||'%'
		</if>	 		
	</select>
	
<!-- 	<select id="refreshData2" parameterType="com.design.zipcode.ZipCodeVO" resultType="com.design.zipcode.ZipcodeVO">
		SELECT address, zipcode
		  FROM zipcode_t
		 WHERE 1=1
		<if test="zdo !=null and zdo.length()>0">
			AND zdo = #{zdo}
		</if>	 
		<if test="dong !=null and dong.length()>0">
			AND dong LIKE '%'||#{dong}||'%'
		</if>	 		
	</select> -->
	
</mapper>